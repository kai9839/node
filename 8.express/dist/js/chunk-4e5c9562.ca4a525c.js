(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4e5c9562"],{"35cc":function(e,t,c){"use strict";c("4b1a")},"49f1":function(e,t,c){"use strict";c("9da9")},"4b1a":function(e,t,c){},"72b4":function(e,t){e.exports="data:image/jpeg;base64,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"},"9da9":function(e,t,c){},"9ed6":function(e,t,c){"use strict";c.r(t);var a=c("7a23"),o=c("72b4"),n=c.n(o);const l=e=>(Object(a["pushScopeId"])("data-v-6bcca93c"),e=e(),Object(a["popScopeId"])(),e),s={class:"login-section"},r={class:"wrapper"},i={key:1,class:"qrcode-box"},A=l(()=>Object(a["createElementVNode"])("img",{src:n.a,alt:""},null,-1)),m=l(()=>Object(a["createElementVNode"])("p",null,[Object(a["createTextVNode"])("打开 "),Object(a["createElementVNode"])("a",{href:"javascript:;"},"小兔鲜App"),Object(a["createTextVNode"])(" 扫码登录")],-1)),d=[A,m];function b(e,t,c,o,n,l){const A=Object(a["resolveComponent"])("LoginHeader"),m=Object(a["resolveComponent"])("LoginForm"),b=Object(a["resolveComponent"])("LoginFooter");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[Object(a["createVNode"])(A,null,{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])("欢迎登录")]),_:1}),Object(a["createElementVNode"])("section",s,[Object(a["createElementVNode"])("div",r,[Object(a["createElementVNode"])("nav",null,[Object(a["createElementVNode"])("a",{onClick:t[0]||(t[0]=e=>o.activeName="account"),class:Object(a["normalizeClass"])({active:"account"===o.activeName}),href:"javascript:;"},"账户登录",2),Object(a["createElementVNode"])("a",{onClick:t[1]||(t[1]=e=>o.activeName="qrcode"),class:Object(a["normalizeClass"])({active:"qrcode"===o.activeName}),href:"javascript:;"},"扫码登录",2)]),"account"===o.activeName?(Object(a["openBlock"])(),Object(a["createBlock"])(m,{key:0})):Object(a["createCommentVNode"])("",!0),"qrcode"===o.activeName?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",i,d)):Object(a["createCommentVNode"])("",!0)])]),Object(a["createVNode"])(b)],64)}var g=c("cc8e"),j=c("136e");const C=e=>(Object(a["pushScopeId"])("data-v-3b1a8544"),e=e(),Object(a["popScopeId"])(),e),O={class:"account-box"},I={class:"toggle"},E=C(()=>Object(a["createElementVNode"])("i",{class:"iconfont icon-user"},null,-1)),B=C(()=>Object(a["createElementVNode"])("i",{class:"iconfont icon-msg"},null,-1)),u={class:"form-item"},p={class:"input"},V=C(()=>Object(a["createElementVNode"])("i",{class:"iconfont icon-user"},null,-1)),v={key:0,class:"error"},Q=C(()=>Object(a["createElementVNode"])("i",{class:"iconfont icon-warning"},null,-1)),f={class:"form-item"},h={class:"input"},w=C(()=>Object(a["createElementVNode"])("i",{class:"iconfont icon-lock"},null,-1)),k={key:0,class:"error"},N=C(()=>Object(a["createElementVNode"])("i",{class:"iconfont icon-warning"},null,-1)),y={class:"form-item"},M={class:"input"},F=C(()=>Object(a["createElementVNode"])("i",{class:"iconfont icon-user"},null,-1)),D={key:0,class:"error"},L=C(()=>Object(a["createElementVNode"])("i",{class:"iconfont icon-warning"},null,-1)),W={class:"form-item"},Y={class:"input"},Z=C(()=>Object(a["createElementVNode"])("i",{class:"iconfont icon-code"},null,-1)),G={key:0,class:"error"},x=C(()=>Object(a["createElementVNode"])("i",{class:"iconfont icon-warning"},null,-1)),z={class:"form-item"},P={class:"agree"},R=C(()=>Object(a["createElementVNode"])("span",null,"我已同意",-1)),T=C(()=>Object(a["createElementVNode"])("a",{href:"javascript:;"},"《隐私条款》",-1)),q=C(()=>Object(a["createElementVNode"])("span",null,"和",-1)),U=C(()=>Object(a["createElementVNode"])("a",{href:"javascript:;"},"《服务条款》",-1)),X={key:0,class:"error"},S=C(()=>Object(a["createElementVNode"])("i",{class:"iconfont icon-warning"},null,-1)),H=Object(a["createStaticVNode"])('<div class="action" data-v-3b1a8544><a href="https://graph.qq.com/oauth2.0/authorize?client_id=100556005&amp;response_type=token&amp;scope=all&amp;redirect_uri=http%3A%2F%2Fwww.corho.com%3A8080%2F%23%2Flogin%2Fcallback" data-v-3b1a8544><img src="https://qzonestyle.gtimg.cn/qzone/vas/opensns/res/img/Connect_logo_7.png" alt="" data-v-3b1a8544></a><div class="url" data-v-3b1a8544><a href="javascript:;" data-v-3b1a8544>忘记密码</a><a href="javascript:;" data-v-3b1a8544>免费注册</a></div></div>',1);function J(e,t,c,o,n,l){const s=Object(a["resolveComponent"])("Field"),r=Object(a["resolveComponent"])("XtxCheckbox"),i=Object(a["resolveComponent"])("Form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",O,[Object(a["createElementVNode"])("div",I,[o.isMsgLogin?(Object(a["openBlock"])(),Object(a["createElementBlock"])("a",{key:0,onClick:t[0]||(t[0]=e=>o.isMsgLogin=!1),href:"javascript:;"},[E,Object(a["createTextVNode"])(" 使用账号登录 ")])):(Object(a["openBlock"])(),Object(a["createElementBlock"])("a",{key:1,onClick:t[1]||(t[1]=e=>o.isMsgLogin=!0),href:"javascript:;"},[B,Object(a["createTextVNode"])(" 使用短信登录 ")]))]),Object(a["createVNode"])(i,{ref:"formCom",class:"form","validation-schema":o.schema,autocomplete:"off"},{default:Object(a["withCtx"])(({errors:e})=>[o.isMsgLogin?(Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],{key:1},[Object(a["createElementVNode"])("div",y,[Object(a["createElementVNode"])("div",M,[F,Object(a["createVNode"])(s,{class:Object(a["normalizeClass"])({error:e.mobile}),modelValue:o.form.mobile,"onUpdate:modelValue":t[4]||(t[4]=e=>o.form.mobile=e),name:"mobile",type:"text",placeholder:"请输入手机号"},null,8,["class","modelValue"])]),e.mobile?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",D,[L,Object(a["createTextVNode"])(" "+Object(a["toDisplayString"])(e.mobile),1)])):Object(a["createCommentVNode"])("",!0)]),Object(a["createElementVNode"])("div",W,[Object(a["createElementVNode"])("div",Y,[Z,Object(a["createVNode"])(s,{class:Object(a["normalizeClass"])({error:e.code}),modelValue:o.form.code,"onUpdate:modelValue":t[5]||(t[5]=e=>o.form.code=e),name:"code",type:"text",placeholder:"请输入验证码"},null,8,["class","modelValue"]),Object(a["createElementVNode"])("span",{onClick:t[6]||(t[6]=e=>o.send()),class:"code"},Object(a["toDisplayString"])(0===o.time?"发送验证码":o.time+"秒后发送"),1)]),e.code?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",G,[x,Object(a["createTextVNode"])(" "+Object(a["toDisplayString"])(e.code),1)])):Object(a["createCommentVNode"])("",!0)])],64)):(Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],{key:0},[Object(a["createElementVNode"])("div",u,[Object(a["createElementVNode"])("div",p,[V,Object(a["createVNode"])(s,{class:Object(a["normalizeClass"])({error:e.account}),modelValue:o.form.account,"onUpdate:modelValue":t[2]||(t[2]=e=>o.form.account=e),name:"account",type:"text",placeholder:"请输入用户名"},null,8,["class","modelValue"])]),e.account?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",v,[Q,Object(a["createTextVNode"])(" "+Object(a["toDisplayString"])(e.account),1)])):Object(a["createCommentVNode"])("",!0)]),Object(a["createElementVNode"])("div",f,[Object(a["createElementVNode"])("div",h,[w,Object(a["createVNode"])(s,{class:Object(a["normalizeClass"])({error:e.password}),modelValue:o.form.password,"onUpdate:modelValue":t[3]||(t[3]=e=>o.form.password=e),name:"password",type:"password",placeholder:"请输入密码"},null,8,["class","modelValue"])]),e.password?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",k,[N,Object(a["createTextVNode"])(" "+Object(a["toDisplayString"])(e.password),1)])):Object(a["createCommentVNode"])("",!0)])],64)),Object(a["createElementVNode"])("div",z,[Object(a["createElementVNode"])("div",P,[Object(a["withDirectives"])(Object(a["createVNode"])(s,{as:"XtxCheckbox",name:"isAgree",modelValue:o.form.isAgree,"onUpdate:modelValue":t[7]||(t[7]=e=>o.form.isAgree=e)},null,8,["modelValue"]),[[a["vShow"],!1]]),Object(a["createVNode"])(r,{modelValue:o.form.isAgree,"onUpdate:modelValue":t[8]||(t[8]=e=>o.form.isAgree=e)},null,8,["modelValue"]),R,T,q,U]),e.isAgree?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",X,[S,Object(a["createTextVNode"])(" "+Object(a["toDisplayString"])(e.isAgree),1)])):Object(a["createCommentVNode"])("",!0)]),Object(a["createElementVNode"])("a",{onClick:t[9]||(t[9]=e=>o.login()),href:"javascript:;",class:"btn"},"登录")]),_:1},8,["validation-schema"]),H])}c("14d9");var K=c("7bb1"),_=c("9f94"),$=c("2f59"),ee=c("c24f"),te=c("5502"),ce=c("6605"),ae=c("7bbe"),oe={name:"LoginForm",components:{Form:K["b"],Field:K["a"]},setup(){const e=Object(a["ref"])(!1),t=Object(a["reactive"])({isAgree:!0,account:null,password:null,mobile:null,code:null}),c={account:_["a"].account,password:_["a"].password,mobile:_["a"].mobile,code:_["a"].code,isAgree:_["a"].isAgree},o=Object(a["ref"])(null);Object(a["watch"])(e,()=>{t.isAgree=!0,t.account=null,t.password=null,t.mobile=null,t.code=null,o.value.resetForm()});const n=Object(te["b"])(),l=Object(ce["d"])(),s=Object(ce["c"])(),r=async()=>{const c=await o.value.validate();if(c){let c=null;try{if(e.value){const{mobile:e,code:a}=t;c=await Object(ee["c"])({mobile:e,code:a})}else{const{account:e,password:a}=t;c=await Object(ee["a"])({account:e,password:a})}const{id:a,account:o,avatar:r,mobile:i,nickname:A,token:m}=c.result;n.commit("user/setUser",{id:a,account:o,avatar:r,mobile:i,nickname:A,token:m}),n.dispatch("cart/mergeLocalCart").then(()=>{l.push(s.query.redirectUrl||"/"),Object($["a"])({type:"success",text:"登录成功"})})}catch(a){a.response.data&&Object($["a"])({type:"error",text:a.response.data.message||"登录失败"})}}},i=Object(a["ref"])(0),{pause:A,resume:m}=Object(ae["v"])(()=>{i.value--,i.value<=0&&A()},1e3,!1);Object(a["onUnmounted"])(()=>{A()});const d=async()=>{const e=c.mobile(t.mobile);!0===e?0===i.value&&(await Object(ee["d"])(t.mobile),Object($["a"])({type:"success",text:"发送成功"}),i.value=60,m()):o.value.setFieldError("mobile",e)};return{isMsgLogin:e,form:t,schema:c,formCom:o,login:r,send:d,time:i}}},ne=(c("49f1"),c("6b0d")),le=c.n(ne);const se=le()(oe,[["render",J],["__scopeId","data-v-3b1a8544"]]);var re=se,ie={name:"PageLogin",components:{LoginHeader:g["a"],LoginFooter:j["a"],LoginForm:re},setup(){const e=Object(a["ref"])("account"),t=Object(te["b"])(),c=Object(ce["c"])();return t.commit("user/setRedirectUrl",c.query.redirectUrl||"/"),{activeName:e}}};c("35cc");const Ae=le()(ie,[["render",b],["__scopeId","data-v-6bcca93c"]]);t["default"]=Ae}}]);
//# sourceMappingURL=chunk-4e5c9562.ca4a525c.js.map
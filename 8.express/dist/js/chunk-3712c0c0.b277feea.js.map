{"version":3,"sources":["webpack:///./src/views/goods/components/goods-name.vue?c124","webpack:///./src/views/goods/components/goods-comment-image.vue?a4de","webpack:///./src/views/goods/components/goods-relevant.vue","webpack:///./src/views/goods/components/goods-relevant.vue?6355","webpack:///./src/views/goods/components/goods-relevant.vue?b585","webpack:///./src/views/goods/components/goods-warn.vue?2101","webpack:///./src/views/goods/components/goods-sales.vue?eb62","webpack:///./src/views/category/components/goods-itme.vue?7051","webpack:///./src/views/goods/components/goods-sku.vue?f5f1","webpack:///./src/views/goods/components/goods-hot.vue?fb56","webpack:///./src/views/goods/components/goods-comment.vue?a7b5","webpack:///./src/views/goods/index.vue","webpack:///./src/views/goods/components/goods-images.vue","webpack:///./src/views/goods/components/goods-images.vue?a15b","webpack:///./src/views/goods/components/goods-sales.vue","webpack:///./src/views/goods/components/goods-sales.vue?9d38","webpack:///./src/views/goods/components/goods-name.vue","webpack:///./src/views/goods/components/goods-name.vue?52d6","webpack:///./src/views/goods/components/goods-tabs.vue","webpack:///./src/views/goods/components/goods-detail.vue","webpack:///./src/views/goods/components/goods-detail.vue?89cf","webpack:///./src/views/goods/components/goods-comment.vue","webpack:///./src/views/goods/components/goods-comment-image.vue","webpack:///./src/views/goods/components/goods-comment-image.vue?0003","webpack:///./src/views/goods/components/goods-comment.vue?362f","webpack:///./src/views/goods/components/goods-tabs.vue?4d6d","webpack:///./src/views/goods/components/goods-hot.vue","webpack:///./src/views/goods/components/goods-hot.vue?15c7","webpack:///./src/views/goods/components/goods-warn.vue","webpack:///./src/views/goods/components/goods-warn.vue?fba7","webpack:///./src/views/goods/index.vue?e5c8","webpack:///./src/views/goods/components/goods-detail.vue?c744","webpack:///./src/views/goods/components/goods-tabs.vue?6585","webpack:///./src/views/goods/components/goods-images.vue?3312","webpack:///./src/views/category/components/goods-itme.vue","webpack:///./src/views/category/components/goods-itme.vue?fd4e","webpack:///./src/views/goods/index.vue?f992","webpack:///./src/api/product.js","webpack:///./src/views/goods/components/goods-sku.vue","webpack:///./src/vender/power-set.js","webpack:///./src/views/goods/components/goods-sku.vue?87be"],"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_toDisplayString","$props","goodsId","_createVNode","_component_xtx_carousel","sliders","$setup","style","auto-play","useRelGoodsData","id","ref","findRelGoods","then","data","size","total","Math","ceil","result","length","i","value","push","slice","components","xtxCarousel","name","props","type","String","default","undefined","setup","__exports__","render","goods","_component_XtxBread","_component_XtxBreadItem","to","categories","_component_GoodsImage","images","mainPictures","_component_GoodsSales","_hoisted_5","_component_GoodsName","_component_GoodsSku","onChange","changeSku","_component_xtx_numbox","label","num","$event","max","inventory","_component_xtx_button","onClick","_cache","insertCart","_component_GoodsRelevant","_hoisted_6","_hoisted_7","_component_GoodsTabs","_hoisted_8","_component_GoodsWarn","_hoisted_9","_component_GoodsHot","_normalizeStyle","backgroundImage","currIndex","largePosition","show","src","alt","layerPosition","_Fragment","_renderList","img","key","_normalizeClass","active","onMouseenter","Array","reactive","left","top","backgroundPositionX","backgroundPositionY","target","elementX","elementY","isOutside","useMouseInElement","watch","position","x","y","href","desc","price","oldPrice","_component_XtxCity","changeCity","fullLocation","Object","provinceCode","cityCode","countyCode","userAddresses","defaultAddr","find","addr","isDefault","activeName","clickTab","commentCount","_createBlock","_resolveDynamicComponent","details","properties","item","pictures","inject","commentInfo","salesCount","praisePercent","tags","title","currTagIndex","changeTag","tagCount","_hoisted_10","_hoisted_11","changeSort","reqParams","sortField","commentList","_hoisted_12","_hoisted_13","member","avatar","formatNickname","nickname","_hoisted_15","_hoisted_16","score","_hoisted_17","formatSpecs","orderInfo","specs","_hoisted_18","content","_component_GoodsCommentImage","_hoisted_19","createTime","_hoisted_20","_hoisted_21","praiseCount","_component_XtxPagination","onCurrentChange","changePager","current-page","page","url","currImage","GoodsCommentImage","findCommentInfoByGoods","unshift","hasPictureCount","evaluateCount","currTag","hasPicture","tag","pageSize","async","findCommentListByGoods","items","counts","immediate","reduce","p","c","nameValue","trim","substr","np","GoodsDetail","GoodsComment","goodsList","_component_GoodsItem","Number","GoodsItem","titleObj","1","2","3","computed","findHotGoods","map","script","GoodsWarn","GoodsHot","GoodsRelevant","GoodsImage","GoodsSales","GoodsName","GoodsSku","GoodsTabs","useGoods","sku","skuId","currSku","provide","store","useStore","Message","text","dispatch","picture","nowPrice","count","attrsText","specsText","selected","isEffective","stock","route","useRoute","params","newVal","path","findGoods","nextTick","_component_RouterLink","request","limit","getSpecsAndSkus","values","val","disabled","clickSpecs","bwPowerSet","originalSet","subSets","numberOfCombinations","combinationIndex","subSet","setElementIndex","spliter","getPathMap","skus","pathMap","forEach","spec","valueName","powerSet","getPowerSet","set","join","getSelectedArr","selectedArr","selectedVal","updateDisabledStatus","filter","v","initSelectedStatus","space","emit","bv","skuIds","n","replace"],"mappings":"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","file":"js/chunk-3712c0c0.b277feea.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./goods-name.vue?vue&type=style&index=0&id=01348fee&lang=less&scoped=true\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./goods-comment-image.vue?vue&type=style&index=0&id=51fe29d7&scoped=true&lang=less\"","<template>\r\n  <div class='goods-relevant'>\r\n    <div class=\"header\">\r\n      <i class=\"icon\"></i>\r\n      <span class=\"title\">{{goodsId?'同类商品推荐':'猜你喜欢'}}</span>\r\n    </div>\r\n    <!-- 此处使用改造后的xtx-carousel.vue -->\r\n    <xtx-carousel :sliders=\"sliders\" style=\"height:380px\" auto-play />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref } from 'vue'\r\nimport { findRelGoods } from '@/api/product'\r\nimport xtxCarousel from '@/components/library/xtx-carousel.vue'\r\n// 得到需要的数据\r\nconst useRelGoodsData = (id) => {\r\n  const sliders = ref([])\r\n  findRelGoods(id).then(data => {\r\n    // 每页4条\r\n    const size = 4\r\n    const total = Math.ceil(data.result.length / size)\r\n    for (let i = 0; i < total; i++) {\r\n      sliders.value.push(data.result.slice(i * size, (i + 1) * size))\r\n    }\r\n  })\r\n  return sliders\r\n}\r\nexport default {\r\n  components: { xtxCarousel },\r\n  // 同类推荐，猜你喜欢\r\n  name: 'GoodsRelevant',\r\n  props: {\r\n    goodsId: {\r\n      type: String,\r\n      default: undefined\r\n    }\r\n  },\r\n  setup (props) {\r\n    const sliders = useRelGoodsData(props.goodsId)\r\n    return { sliders }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang='less'>\r\n.goods-relevant {\r\n  background: #fff;\r\n  min-height: 460px;\r\n  margin-top: 20px;\r\n  .header {\r\n    height: 80px;\r\n    line-height: 80px;\r\n    padding: 0 20px;\r\n    .title {\r\n      font-size: 20px;\r\n      padding-left: 10px;\r\n    }\r\n    .icon {\r\n      width: 16px;\r\n      height: 16px;\r\n      display: inline-block;\r\n      border-top: 4px solid @xtxColor;\r\n      border-right: 4px solid @xtxColor;\r\n      box-sizing: border-box;\r\n      position: relative;\r\n      transform: rotate(45deg);\r\n      &::before {\r\n        content: \"\";\r\n        width: 10px;\r\n        height: 10px;\r\n        position: absolute;\r\n        left: 0;\r\n        top: 2px;\r\n        background: lighten(@xtxColor, 40%);\r\n      }\r\n    }\r\n  }\r\n  :deep(.xtx-carousel) {\r\n    height: 380px;\r\n    .carousel {\r\n      &-indicator {\r\n        bottom: 30px;\r\n        span {\r\n          &.active {\r\n            background: @xtxColor;\r\n          }\r\n        }\r\n      }\r\n      &-btn {\r\n        top: 110px;\r\n        opacity: 1;\r\n        background: rgba(0,0,0,0);\r\n        color: #ddd;\r\n        i {\r\n          font-size: 30px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./goods-relevant.vue?vue&type=template&id=273e7ce0&scoped=true\"\nimport script from \"./goods-relevant.vue?vue&type=script&lang=js\"\nexport * from \"./goods-relevant.vue?vue&type=script&lang=js\"\n\nimport \"./goods-relevant.vue?vue&type=style&index=0&id=273e7ce0&scoped=true&lang=less\"\n\nimport exportComponent from \"D:\\\\桌面\\\\git\\\\YouGou\\\\ygshop\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-273e7ce0\"]])\n\nexport default __exports__","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./goods-relevant.vue?vue&type=style&index=0&id=273e7ce0&scoped=true&lang=less\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./goods-warn.vue?vue&type=style&index=0&id=2d293123&lang=less&scoped=true\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./goods-sales.vue?vue&type=style&index=0&id=ca3db56a&scoped=true&lang=less\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./goods-itme.vue?vue&type=style&index=0&id=55571ba8&scoped=true&lang=less\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./goods-sku.vue?vue&type=style&index=0&id=f8f8fb88&scoped=true&lang=less\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./goods-hot.vue?vue&type=style&index=0&id=9000ddcc&lang=less&scoped=true\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./goods-comment.vue?vue&type=style&index=0&id=473814a8&scoped=true&lang=less\"","<template>\r\n  <div class='xtx-goods-page' v-if=\"goods\">\r\n    <div class=\"container\">\r\n      <!-- 面包屑 -->\r\n      <XtxBread>\r\n        <XtxBreadItem to=\"/\">首页</XtxBreadItem>\r\n        <XtxBreadItem  :to=\"`/category/${goods.categories[1].id}`\">{{goods.categories[1].name}}</XtxBreadItem>\r\n        <XtxBreadItem  :to=\"`/category/sub/${goods.categories[0].id}`\">{{goods.categories[0].name}}</XtxBreadItem>\r\n        <XtxBreadItem >{{goods.name}}</XtxBreadItem>\r\n      </XtxBread>\r\n      <!-- 商品信息 -->\r\n      <div class=\"goods-info\">\r\n        <div class=\"media\">\r\n          <GoodsImage  :images=\"goods.mainPictures\" />\r\n          <GoodsSales />\r\n        </div>\r\n        <div class=\"spec\">\r\n          <GoodsName :goods=\"goods\"/>\r\n          <!-- 规格组件 -->\r\n          <GoodsSku :goods=\"goods\" @change=\"changeSku\"/>\r\n          <!-- 数量选择组件 -->\r\n          <xtx-numbox label=\"数量\" v-model=\"num\" :max=\"goods.inventory\"/>\r\n          <!-- 按钮组件 -->\r\n          <xtx-button @click=\"insertCart()\" type=\"primary\" style=\"margin-top:20px;\">加入购物车</xtx-button>\r\n        </div>\r\n      </div>\r\n      <!-- 商品推荐 -->\r\n      <GoodsRelevant :goodsId=\"goods.id\" />\r\n      <!-- 商品详情 -->\r\n      <div class=\"goods-footer\">\r\n        <div class=\"goods-article\">\r\n          <!-- 商品+评价 -->\r\n          <GoodsTabs />\r\n          <!-- 注意事项 -->\r\n          <div class=\"goods-warn\">\r\n            <GoodsWarn />\r\n          </div>\r\n        </div>\r\n        <!-- 24热榜+专题推荐 -->\r\n        <div class=\"goods-aside\">\r\n          <GoodsHot :goodsId=\"goods.id\" :type=\"1\" />\r\n          <GoodsHot :goodsId=\"goods.id\" :type=\"2\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { nextTick, provide, ref, watch } from 'vue'\r\nimport GoodsRelevant from './components/goods-relevant'\r\nimport GoodsImage from './components/goods-images'\r\nimport GoodsSales from './components/goods-sales'\r\nimport GoodsName from './components/goods-name'\r\nimport GoodsSku from './components/goods-sku'\r\nimport GoodsTabs from './components/goods-tabs'\r\nimport GoodsHot from './components/goods-hot'\r\nimport GoodsWarn from './components/goods-warn'\r\nimport { useRoute } from 'vue-router'\r\nimport { findGoods } from '@/api/product'\r\nimport Message from '@/components/library/Message'\r\nimport { useStore } from 'vuex'\r\nexport default {\r\n  name: 'XtxGoodsPage',\r\n  components: { GoodsWarn, GoodsHot, GoodsRelevant, GoodsImage, GoodsSales, GoodsName, GoodsSku, GoodsTabs },\r\n  setup () {\r\n    const goods = useGoods()\r\n    // sku改变时候触发\r\n    const changeSku = (sku) => {\r\n      if (sku.skuId) {\r\n        goods.value.price = sku.price\r\n        goods.value.oldPrice = sku.oldPrice\r\n        goods.value.inventory = sku.inventory\r\n        currSku.value = sku\r\n      } else {\r\n        currSku.value = null\r\n      }\r\n    }\r\n    // 选择的数量\r\n    const num = ref(1)\r\n\r\n    // 提供goods数据给后代组件使用\r\n    provide('goods', goods)\r\n\r\n    // 加入购物车逻辑\r\n    const currSku = ref(null)\r\n    const store = useStore()\r\n    const insertCart = () => {\r\n      if (!currSku.value) {\r\n        Message({ text: '请选择完整规格' })\r\n      }\r\n      if (num.value > goods.inventory) {\r\n        Message({ text: '库存不足' })\r\n      }\r\n      store.dispatch('cart/insertCart', {\r\n        id: goods.value.id,\r\n        skuId: currSku.value.skuId,\r\n        name: goods.value.name,\r\n        picture: goods.value.mainPictures[0],\r\n        price: currSku.value.price,\r\n        nowPrice: currSku.value.price,\r\n        count: num.value,\r\n        attrsText: currSku.value.specsText,\r\n        selected: true,\r\n        isEffective: true,\r\n        stock: currSku.value.inventory\r\n      }).then(() => {\r\n        Message({ type: 'success', text: '加入购物车成功' })\r\n      })\r\n    }\r\n    return { goods, changeSku, num, insertCart }\r\n  }\r\n}\r\n\r\n// 获取商品详情\r\nconst useGoods = () => {\r\n  // 出现路由地址商品ID发生变化，但是不会重新初始化组件\r\n  const goods = ref(null)\r\n  const route = useRoute()\r\n  watch(() => route.params.id, (newVal) => {\r\n    if (newVal && `/product/${newVal}` === route.path) {\r\n      findGoods(route.params.id).then(data => {\r\n        // 让商品数据为null让后使用v-if的组件可以重新销毁和创建\r\n        goods.value = null\r\n        nextTick(() => {\r\n          goods.value = data.result\r\n        })\r\n      })\r\n    }\r\n  }, { immediate: true })\r\n  return goods\r\n}\r\n</script>\r\n\r\n<style scoped lang='less'>\r\n.goods-info {\r\n  min-height: 600px;\r\n  background: #fff;\r\n  display: flex;\r\n  .media {\r\n    width: 580px;\r\n    height: 600px;\r\n    padding: 30px 50px;\r\n  }\r\n  .spec {\r\n    flex: 1;\r\n    padding: 30px 30px 30px 0;\r\n  }\r\n}\r\n.goods-footer {\r\n  display: flex;\r\n  margin-top: 20px;\r\n  .goods-article {\r\n    width: 940px;\r\n    margin-right: 20px;\r\n  }\r\n  .goods-aside {\r\n    width: 280px;\r\n    min-height: 1000px;\r\n  }\r\n}\r\n.goods-warn {\r\n  min-height: 600px;\r\n  background: #fff;\r\n  margin-top: 20px;\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"goods-image\">\r\n    <!-- 大图 -->\r\n    <div v-show=\"show\" class=\"large\" :style=\"[{backgroundImage:`url(${images[currIndex]})`},largePosition]\"></div>\r\n    <!-- 中图 -->\r\n    <div class=\"middle\" ref=\"target\">\r\n      <img :src=\"images[currIndex]\" alt=\"\">\r\n      <!-- 遮罩色块 -->\r\n      <div class=\"layer\" v-show=\"show\" :style=\"layerPosition\"></div>\r\n    </div>\r\n    <!-- 小图 -->\r\n    <ul class=\"small\">\r\n      <li v-for=\"(img,i) in images\" :key=\"img\" :class=\"{active:i===currIndex}\">\r\n        <img @mouseenter=\"currIndex=i\" :src=\"img\" alt=\"\">\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { reactive, ref, watch } from 'vue'\r\nimport { useMouseInElement } from '@vueuse/core'\r\nexport default {\r\n  name: 'GoodsImage',\r\n  props: {\r\n    images: {\r\n      type: Array,\r\n      default: () => []\r\n    }\r\n  },\r\n  setup (props) {\r\n    // 当前预览图的索引\r\n    const currIndex = ref(0)\r\n    // 1. 是否显示遮罩和大图\r\n    const show = ref(false)\r\n    // 2. 遮罩的坐标(样式)\r\n    const layerPosition = reactive({\r\n      left: 0,\r\n      top: 0\r\n    })\r\n    // 3. 大图背景定位(样式)\r\n    const largePosition = reactive({\r\n      backgroundPositionX: 0,\r\n      backgroundPositionY: 0\r\n    })\r\n    // 4. 使用useMouseInElement得到基于元素左上角的坐标和是否离开元素数据\r\n    // elementX 鼠标基于容器左上角X轴偏移\r\n    // elementY 鼠标基于容器左上角Y轴偏移\r\n    // isOutside 鼠标是否在模板容器外\r\n    const target = ref(null)\r\n    const { elementX, elementY, isOutside } = useMouseInElement(target)\r\n    watch([elementX, elementY, isOutside], () => {\r\n      // 5. 根据得到数据设置样式数据和是否显示数据\r\n      show.value = !isOutside.value\r\n      // 计算坐标\r\n      const position = { x: 0, y: 0 }\r\n      if (elementX.value < 100) position.x = 0\r\n      else if (elementX.value > 300) position.x = 200\r\n      else position.x = elementX.value - 100\r\n\r\n      if (elementY.value < 100) position.y = 0\r\n      else if (elementY.value > 300) position.y = 200\r\n      else position.y = elementY.value - 100\r\n      // 给样式赋值\r\n      layerPosition.left = position.x + 'px'\r\n      layerPosition.top = position.y + 'px'\r\n      largePosition.backgroundPositionX = -2 * position.x + 'px'\r\n      largePosition.backgroundPositionY = -2 * position.y + 'px'\r\n    })\r\n    return { currIndex, show, layerPosition, largePosition, target }\r\n  }\r\n}\r\n</script>\r\n<style scoped lang=\"less\">\r\n.goods-image {\r\n  width: 480px;\r\n  height: 400px;\r\n  position: relative;\r\n  display: flex;\r\n  z-index: 500;\r\n  .large {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 412px;\r\n    width: 400px;\r\n    height: 400px;\r\n    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\r\n    background-repeat: no-repeat;\r\n    background-size: 800px 800px;\r\n    background-color: #f8f8f8;\r\n  }\r\n  .middle {\r\n    width: 400px;\r\n    height: 400px;\r\n    background: #f5f5f5;\r\n    position: relative;\r\n    cursor: move;\r\n    .layer {\r\n      width: 200px;\r\n      height: 200px;\r\n      background: rgba(0, 0, 0, 0.2);\r\n      left: 0;\r\n      top: 0;\r\n      position: absolute;\r\n    }\r\n  }\r\n  .small {\r\n    width: 80px;\r\n    li {\r\n      width: 68px;\r\n      height: 68px;\r\n      margin-left: 12px;\r\n      margin-bottom: 15px;\r\n      cursor: pointer;\r\n      &:hover,&.active {\r\n        border: 2px solid @xtxColor;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./goods-images.vue?vue&type=template&id=45661e56&scoped=true\"\nimport script from \"./goods-images.vue?vue&type=script&lang=js\"\nexport * from \"./goods-images.vue?vue&type=script&lang=js\"\n\nimport \"./goods-images.vue?vue&type=style&index=0&id=45661e56&scoped=true&lang=less\"\n\nimport exportComponent from \"D:\\\\桌面\\\\git\\\\YouGou\\\\ygshop\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-45661e56\"]])\n\nexport default __exports__","<template>\r\n  <ul class=\"goods-sales\">\r\n    <li>\r\n      <p>销量人气</p>\r\n      <p>200+</p>\r\n      <p><i class=\"iconfont icon-task-filling\"></i>销量人气</p>\r\n    </li>\r\n    <li>\r\n      <p>商品评价</p>\r\n      <p>400+</p>\r\n      <p><i class=\"iconfont icon-comment-filling\"></i>查看评价</p>\r\n    </li>\r\n    <li>\r\n      <p>收藏人气</p>\r\n      <p>600+</p>\r\n      <p><i class=\"iconfont icon-favorite-filling\"></i>收藏商品</p>\r\n    </li>\r\n    <li>\r\n      <p>品牌信息</p>\r\n      <p>苏宁电器</p>\r\n      <p><i class=\"iconfont icon-dynamic-filling\"></i>品牌主页</p>\r\n    </li>\r\n  </ul>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'GoodsSales'\r\n}\r\n</script>\r\n\r\n<style scoped lang='less'>\r\n.goods-sales {\r\n  display: flex;\r\n  width: 400px;\r\n  align-items: center;\r\n  text-align: center;\r\n  height: 140px;\r\n  li {\r\n    flex: 1;\r\n    position: relative;\r\n    ~ li::after {\r\n      position: absolute;\r\n      top: 10px;\r\n      left: 0;\r\n      height: 60px;\r\n      border-left: 1px solid #e4e4e4;\r\n      content: \"\";\r\n    }\r\n    p {\r\n      &:first-child {\r\n        color: #999;\r\n      }\r\n      &:nth-child(2) {\r\n        color: @priceColor;\r\n        margin-top: 10px;\r\n      }\r\n      &:last-child {\r\n        color: #666;\r\n        margin-top: 10px;\r\n        i {\r\n          color: @xtxColor;\r\n          font-size: 14px;\r\n          margin-right: 2px;\r\n        }\r\n        &:hover {\r\n          color: @xtxColor;\r\n          cursor: pointer;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./goods-sales.vue?vue&type=template&id=ca3db56a&scoped=true\"\nimport script from \"./goods-sales.vue?vue&type=script&lang=js\"\nexport * from \"./goods-sales.vue?vue&type=script&lang=js\"\n\nimport \"./goods-sales.vue?vue&type=style&index=0&id=ca3db56a&scoped=true&lang=less\"\n\nimport exportComponent from \"D:\\\\桌面\\\\git\\\\YouGou\\\\ygshop\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-ca3db56a\"]])\n\nexport default __exports__","<template>\r\n  <p class=\"g-name\">{{goods.name}}</p>\r\n  <p class=\"g-desc\">{{goods.desc}}</p>\r\n  <p class=\"g-price\">\r\n    <span>{{goods.price}}</span>\r\n    <span>{{goods.oldPrice}}</span>\r\n  </p>\r\n  <div class=\"g-service\">\r\n    <dl>\r\n      <dt>促销</dt>\r\n      <dd>12月好物放送，App领券购买直降120元</dd>\r\n    </dl>\r\n    <dl>\r\n      <dt>配送</dt>\r\n      <dd>至 <XtxCity @change=\"changeCity\" :fullLocation=\"fullLocation\" /></dd>\r\n    </dl>\r\n    <dl>\r\n      <dt>服务</dt>\r\n      <dd>\r\n        <span>无忧退货</span>\r\n        <span>快速退款</span>\r\n        <span>免费包邮</span>\r\n        <a href=\"javascript:;\">了解详情</a>\r\n      </dd>\r\n    </dl>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref } from 'vue'\r\nexport default {\r\n  name: 'GoodName',\r\n  props: {\r\n    goods: {\r\n      type: Object,\r\n      default: () => ({})\r\n    }\r\n  },\r\n  setup (props) {\r\n    // 默认情况\r\n    const provinceCode = ref('440000')\r\n    const cityCode = ref('440100')\r\n    const countyCode = ref('440106')\r\n    const fullLocation = ref('广东省 广州市 天河区')\r\n    // 有默认地址\r\n    if (props.goods.userAddresses) {\r\n      const defaultAddr = props.goods.userAddresses.find(addr => addr.isDefault === 1)\r\n      if (defaultAddr) {\r\n        provinceCode.value = defaultAddr.provinceCode\r\n        cityCode.value = defaultAddr.cityCode\r\n        countyCode.value = defaultAddr.countyCode\r\n        fullLocation.value = defaultAddr.fullLocation\r\n      }\r\n    }\r\n    // 选择城市\r\n    const changeCity = (result) => {\r\n      provinceCode.value = result.provinceCode\r\n      cityCode.value = result.cityCode\r\n      countyCode.value = result.countyCode\r\n      fullLocation.value = result.fullLocation\r\n    }\r\n    return { fullLocation, changeCity }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.g-name {\r\n  font-size: 22px\r\n}\r\n.g-desc {\r\n  color: #999;\r\n  margin-top: 10px;\r\n}\r\n.g-price {\r\n  margin-top: 10px;\r\n  span {\r\n    &::before {\r\n      content: \"¥\";\r\n      font-size: 14px;\r\n    }\r\n    &:first-child {\r\n      color: @priceColor;\r\n      margin-right: 10px;\r\n      font-size: 22px;\r\n    }\r\n    &:last-child {\r\n      color: #999;\r\n      text-decoration: line-through;\r\n      font-size: 16px;\r\n    }\r\n  }\r\n}\r\n.g-service {\r\n  background: #f5f5f5;\r\n  width: 500px;\r\n  padding: 20px 10px 0 10px;\r\n  margin-top: 10px;\r\n  dl {\r\n    padding-bottom: 20px;\r\n    display: flex;\r\n    align-items: center;\r\n    dt {\r\n      width: 50px;\r\n      color: #999;\r\n    }\r\n    dd {\r\n      color: #666;\r\n      &:last-child {\r\n        span {\r\n          margin-right: 10px;\r\n          &::before {\r\n            content: \"•\";\r\n            color: @xtxColor;\r\n            margin-right: 2px;\r\n          }\r\n        }\r\n        a {\r\n          color: @xtxColor;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./goods-name.vue?vue&type=template&id=01348fee&scoped=true\"\nimport script from \"./goods-name.vue?vue&type=script&lang=js\"\nexport * from \"./goods-name.vue?vue&type=script&lang=js\"\n\nimport \"./goods-name.vue?vue&type=style&index=0&id=01348fee&lang=less&scoped=true\"\n\nimport exportComponent from \"D:\\\\桌面\\\\git\\\\YouGou\\\\ygshop\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-01348fee\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"goods-tabs\">\r\n    <nav>\r\n      <a :class=\"{active: activeName === 'detail'}\"\r\n      href=\"javascript:;\"\r\n      @click=\"clickTab('detail')\"\r\n      >商品详情</a>\r\n      <a :class=\"{ active: activeName === 'comment' }\"\r\n      href=\"javascript:;\"\r\n      @click=\"clickTab('comment')\"\r\n      >商品评价<span>({{ goods.commentCount }})</span></a>\r\n    </nav>\r\n    <!-- 这个位置显示对应的组件 GoodsDetail 或者 GoodsComment -->\r\n    <component :is=\"'goods-'+activeName\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { inject, ref } from 'vue'\r\nimport GoodsDetail from './goods-detail'\r\nimport GoodsComment from './goods-comment'\r\nexport default {\r\n  name: 'GoodsTabs',\r\n  components: { GoodsDetail, GoodsComment },\r\n  setup () {\r\n    // detail-->详情   comment-->评价\r\n    const activeName = ref('detail')\r\n    const clickTab = (name) => {\r\n      activeName.value = name\r\n    }\r\n    const goods = inject('goods')\r\n    return { activeName, clickTab, goods }\r\n  }\r\n}\r\n\r\n</script>\r\n<style  lang=\"less\" scoped>\r\n.goods-tabs {\r\n  min-height: 600px;\r\n  background: #fff;\r\n  nav {\r\n    height: 70px;\r\n    line-height: 70px;\r\n    display: flex;\r\n    border-bottom: 1px solid #f5f5f5;\r\n    a {\r\n      padding: 0 40px;\r\n      font-size: 18px;\r\n      position: relative;\r\n      > span {\r\n        color: @priceColor;\r\n        font-size: 16px;\r\n        margin-left: 10px;\r\n      }\r\n      &:first-child {\r\n        border-right: 1px solid #f5f5f5;\r\n      }\r\n      &.active {\r\n        &::before {\r\n          content: \"\";\r\n          position: absolute;\r\n          left: 40px;\r\n          bottom: -1px;\r\n          width: 72px;\r\n          height: 2px;\r\n          background: @xtxColor;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"goods-detail\">\r\n    <!-- 属性 -->\r\n    <ul class=\"attrs\">\r\n      <li v-for=\"item in goods.details.properties\" :key=\"item.value\">\r\n        <span class=\"dt\">{{item.name}}</span>\r\n        <span class=\"dd\">{{item.value}}</span>\r\n      </li>\r\n    </ul>\r\n    <!-- 图片 -->\r\n    <img v-for=\"item in goods.details.pictures\"\r\n    :key=\"item\" :src=\"item\" alt=\"\">\r\n  </div>\r\n</template>\r\n<script>\r\nimport { inject } from 'vue'\r\nexport default {\r\n  name: 'GoodsDetail',\r\n  setup () {\r\n    const goods = inject('goods')\r\n    return { goods }\r\n  }\r\n}\r\n</script>\r\n<style scoped lang=\"less\">\r\n.goods-detail {\r\n  padding: 40px;\r\n  .attrs {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    margin-bottom: 30px;\r\n    li {\r\n      display: flex;\r\n      margin-bottom: 10px;\r\n      width: 50%;\r\n      .dt {\r\n        width: 100px;\r\n        color: #999;\r\n      }\r\n      .dd {\r\n        flex: 1;\r\n        color: #666;\r\n      }\r\n    }\r\n  }\r\n  > img {\r\n    width: 100%;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./goods-detail.vue?vue&type=template&id=bef77db8&scoped=true\"\nimport script from \"./goods-detail.vue?vue&type=script&lang=js\"\nexport * from \"./goods-detail.vue?vue&type=script&lang=js\"\n\nimport \"./goods-detail.vue?vue&type=style&index=0&id=bef77db8&scoped=true&lang=less\"\n\nimport exportComponent from \"D:\\\\桌面\\\\git\\\\YouGou\\\\ygshop\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-bef77db8\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"goods-comment\">\r\n    <!-- 评价头部 -->\r\n    <div class=\"head\" v-if=\"commentInfo\">\r\n      <div class=\"data\">\r\n        <p><span>{{ commentInfo.salesCount }}</span><span>人购买</span></p>\r\n        <p><span>{{ commentInfo.praisePercent }}</span><span>好评率</span></p>\r\n      </div>\r\n      <div class=\"tags\">\r\n        <div class=\"dt\">大家都在说：</div>\r\n        <div class=\"dd\">\r\n          <a\r\n            v-for=\"(item,i) in commentInfo.tags\"\r\n          :key=\"item.title\"\r\n          href=\"javascript:;\"\r\n          :class=\"{active:currTagIndex === i}\"\r\n          @click=\"changeTag(i)\"\r\n          >\r\n            {{ item.title }} ({{ item.tagCount }})\r\n          </a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"sort\" v-if=\"commentInfo\">\r\n      <span>排序：</span>\r\n      <a\r\n        @click=\"changeSort(null)\"\r\n        href=\"javascript:;\"\r\n        :class=\"{active:reqParams.sortField===null}\"\r\n      >默认</a>\r\n      <a\r\n        @click=\"changeSort('praiseCount')\"\r\n        href=\"javascript:;\"\r\n        :class=\"{active:reqParams.sortField==='praiseCount'}\"\r\n      >最热</a>\r\n      <a\r\n        @click=\"changeSort('createTime')\"\r\n        href=\"javascript:;\"\r\n        :class=\"{active:reqParams.sortField==='createTime'}\"\r\n      >最新</a>\r\n    </div>\r\n    <!-- 评价列表 -->\r\n    <div class=\"list\" v-if=\"commentList\">\r\n      <div class=\"item\" v-for=\"item in commentList\" :key=\"item.id\">\r\n        <div class=\"user\">\r\n          <img :src=\"item.member.avatar\" alt=\"\">\r\n          <span>{{formatNickname(item.member.nickname)}}</span>\r\n        </div>\r\n        <div class=\"body\">\r\n          <div class=\"score\">\r\n            <i v-for=\"i in item.score\" :key=\"i+'1'\" class=\"iconfont icon-wjx01\"></i>\r\n            <i v-for=\"i in 5-item.score\" :key=\"i+'2'\" class=\"iconfont icon-wjx02\"></i>\r\n            <span class=\"attr\">{{formatSpecs(item.orderInfo.specs)}}</span>\r\n          </div>\r\n          <div class=\"text\">{{item.content}}</div>\r\n          <!-- 使用图片预览组件 -->\r\n          <GoodsCommentImage v-if=\"item.pictures.length\" :pictures=\"item.pictures\" />\r\n          <div class=\"time\">\r\n            <span>{{item.createTime}}</span>\r\n            <span class=\"zan\"><i class=\"iconfont icon-dianzan\"></i>{{item.praiseCount}}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- 分页组件 -->\r\n    <XtxPagination v-if=\"total\" @current-change=\"changePager\" :total=\"total\" :current-page=\"reqParams.page\"/>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { ref, inject, reactive, watch } from 'vue'\r\nimport GoodsCommentImage from './goods-comment-image'\r\nimport { findCommentListByGoods, findCommentInfoByGoods } from '@/api/product'\r\nexport default {\r\n  name: 'GoodsComment',\r\n  components: { GoodsCommentImage },\r\n  setup () {\r\n    const commentInfo = ref(null)\r\n    const goods = inject('goods')\r\n    findCommentInfoByGoods(goods.value.id).then(data => {\r\n      data.result.tags.unshift({\r\n        type: 'img',\r\n        title: '有图',\r\n        tagCount: data.result.hasPictureCount\r\n      })\r\n      data.result.tags.unshift({\r\n        type: 'all',\r\n        title: '全部评价',\r\n        tagCount: data.result.evaluateCount\r\n      })\r\n      commentInfo.value = data.result\r\n    })\r\n    // 记录当前激活的索引\r\n    const currTagIndex = ref(0)\r\n    const changeTag = (i) => {\r\n      currTagIndex.value = i\r\n      // 设置有图和标签条件\r\n      const currTag = commentInfo.value.tags[i]\r\n      if (currTag.type === 'all') {\r\n        reqParams.hasPicture = false\r\n        reqParams.tag = null\r\n      } else if (currTag.type === 'img') {\r\n        reqParams.hasPicture = true\r\n        reqParams.tag = null\r\n      } else {\r\n        reqParams.hasPicture = false\r\n        reqParams.tag = currTag.title\r\n      }\r\n      reqParams.page = 1\r\n    }\r\n    // 筛选条件准备\r\n    const reqParams = reactive({\r\n      page: 1,\r\n      pageSize: 10,\r\n      hasPicture: null,\r\n      tag: null,\r\n      // 排序方式：praiseCount 热度  createTime 最新\r\n      sortField: null\r\n    })\r\n    // 改变排序\r\n    const changeSort = (type) => {\r\n      reqParams.sortField = type\r\n      reqParams.page = 1\r\n    }\r\n    // 初始化或者筛选条件改变后，获取列表数据。\r\n    const commentList = ref([])\r\n    const total = ref(0)\r\n    watch(reqParams, async () => {\r\n      const data = await findCommentListByGoods(goods.value.id, reqParams)\r\n      commentList.value = data.result.items\r\n      total.value = data.result.counts\r\n    }, { immediate: true })\r\n    // 定义转换数据的函数（对应vue2.0的过滤器）\r\n    const formatSpecs = (specs) => {\r\n      return specs.reduce((p, c) => `${p} ${c.name}：${c.nameValue}`, '').trim()\r\n    }\r\n    const formatNickname = (nickname) => {\r\n      return nickname.substr(0, 1) + '****' + nickname.substr(-1)\r\n    }\r\n    // 改变分页函数\r\n    const changePager = (np) => {\r\n      reqParams.page = np\r\n    }\r\n    return {\r\n      formatNickname,\r\n      formatSpecs,\r\n      changeSort,\r\n      commentInfo,\r\n      currTagIndex,\r\n      changeTag,\r\n      reqParams,\r\n      commentList,\r\n      changePager,\r\n      total\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style scoped lang=\"less\">\r\n.goods-comment {\r\n  .head {\r\n    display: flex;\r\n    padding: 30px 0;\r\n    .data {\r\n      width: 340px;\r\n      display: flex;\r\n      padding: 20px;\r\n      p {\r\n        flex: 1;\r\n        text-align: center;\r\n        span {\r\n          display: block;\r\n          &:first-child {\r\n            font-size: 32px;\r\n            color: @priceColor;\r\n          }\r\n          &:last-child {\r\n            color: #999;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .tags {\r\n      flex: 1;\r\n      display: flex;\r\n      border-left: 1px solid #f5f5f5;\r\n      .dt {\r\n        font-weight: bold;\r\n        width: 100px;\r\n        text-align: right;\r\n        line-height: 42px;\r\n      }\r\n      .dd {\r\n        flex: 1;\r\n        display: flex;\r\n        flex-wrap: wrap;\r\n        > a {\r\n          width: 132px;\r\n          height: 42px;\r\n          margin-left: 20px;\r\n          margin-bottom: 20px;\r\n          border-radius: 4px;\r\n          border: 1px solid #e4e4e4;\r\n          background: #f5f5f5;\r\n          color: #999;\r\n          text-align: center;\r\n          line-height: 40px;\r\n          &:hover {\r\n            border-color: @xtxColor;\r\n            background: lighten(@xtxColor,50%);\r\n            color: @xtxColor;\r\n          }\r\n          &.active {\r\n            border-color: @xtxColor;\r\n            background: @xtxColor;\r\n            color: #fff;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .sort {\r\n    height: 60px;\r\n    line-height: 60px;\r\n    border-top: 1px solid #f5f5f5;\r\n    border-bottom: 1px solid #f5f5f5;\r\n    margin: 0 20px;\r\n    color: #666;\r\n    > span {\r\n      margin-left: 20px;\r\n    }\r\n    > a {\r\n      margin-left: 30px;\r\n      &.active,&:hover {\r\n        color: @xtxColor;\r\n      }\r\n    }\r\n  }\r\n  .list {\r\n    padding: 0 20px;\r\n    .item {\r\n      display: flex;\r\n      padding: 25px 10px;\r\n      border-bottom: 1px solid #f5f5f5;\r\n      .user {\r\n        width: 160px;\r\n        img {\r\n          width: 40px;\r\n          height: 40px;\r\n          border-radius: 50%;\r\n          overflow: hidden;\r\n        }\r\n        span {\r\n          padding-left: 10px;\r\n          color: #666;\r\n        }\r\n      }\r\n      .body {\r\n        flex: 1;\r\n        .score {\r\n          line-height: 40px;\r\n          .iconfont {\r\n            color: #ff9240;\r\n            padding-right: 3px;\r\n          }\r\n          .attr {\r\n            padding-left: 10px;\r\n            color: #666;\r\n          }\r\n        }\r\n      }\r\n      .text {\r\n        color: #666;\r\n        line-height: 24px;\r\n      }\r\n      .time {\r\n        color: #999;\r\n        display: flex;\r\n        justify-content: space-between;\r\n        margin-top: 5px;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"goods-comment-image\">\r\n    <div class=\"list\">\r\n      <a\r\n        href=\"javascript:;\"\r\n        :class=\"{active:currImage===url}\"\r\n        @click=\"currImage=url\"\r\n        v-for=\"url in pictures\"\r\n        :key=\"url\"\r\n      >\r\n        <img :src=\"url\" alt=\"\">\r\n      </a>\r\n    </div>\r\n    <div class=\"preview\" v-if=\"currImage\">\r\n      <img :src=\"currImage\" alt=\"\">\r\n      <i @click=\"currImage=null\" class=\"iconfont icon-close-new\"></i>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { ref } from 'vue'\r\nexport default {\r\n  name: 'GoodsCommentImage',\r\n  props: {\r\n    pictures: {\r\n      type: Array,\r\n      default: () => []\r\n    }\r\n  },\r\n  setup () {\r\n    const currImage = ref(null)\r\n    return { currImage }\r\n  }\r\n}\r\n</script>\r\n<style scoped lang=\"less\">\r\n.goods-comment-image {\r\n  .list {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    margin-top: 10px;\r\n    a {\r\n      width: 120px;\r\n      height: 120px;\r\n      border:1px solid #e4e4e4;\r\n      margin-right: 20px;\r\n      margin-bottom: 10px;\r\n      img {\r\n        width: 100%;\r\n        height: 100%;\r\n        object-fit: contain;\r\n      }\r\n      &.active {\r\n        border-color: @xtxColor;\r\n      }\r\n    }\r\n  }\r\n  .preview {\r\n    width: 480px;\r\n    height: 480px;\r\n    border: 1px solid #e4e4e4;\r\n    background: #f8f8f8;\r\n    margin-bottom: 20px;\r\n    position: relative;\r\n    img {\r\n        width: 100%;\r\n        height: 100%;\r\n        object-fit: contain;\r\n    }\r\n    i {\r\n      position: absolute;\r\n      right: 0;\r\n      top: 0;\r\n      width: 30px;\r\n      height: 30px;\r\n      background: rgba(0,0,0,0.2);\r\n      color: #fff;\r\n      text-align: center;\r\n      line-height: 30px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./goods-comment-image.vue?vue&type=template&id=51fe29d7&scoped=true\"\nimport script from \"./goods-comment-image.vue?vue&type=script&lang=js\"\nexport * from \"./goods-comment-image.vue?vue&type=script&lang=js\"\n\nimport \"./goods-comment-image.vue?vue&type=style&index=0&id=51fe29d7&scoped=true&lang=less\"\n\nimport exportComponent from \"D:\\\\桌面\\\\git\\\\YouGou\\\\ygshop\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-51fe29d7\"]])\n\nexport default __exports__","import { render } from \"./goods-comment.vue?vue&type=template&id=473814a8&scoped=true\"\nimport script from \"./goods-comment.vue?vue&type=script&lang=js\"\nexport * from \"./goods-comment.vue?vue&type=script&lang=js\"\n\nimport \"./goods-comment.vue?vue&type=style&index=0&id=473814a8&scoped=true&lang=less\"\n\nimport exportComponent from \"D:\\\\桌面\\\\git\\\\YouGou\\\\ygshop\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-473814a8\"]])\n\nexport default __exports__","import { render } from \"./goods-tabs.vue?vue&type=template&id=444998cd&scoped=true\"\nimport script from \"./goods-tabs.vue?vue&type=script&lang=js\"\nexport * from \"./goods-tabs.vue?vue&type=script&lang=js\"\n\nimport \"./goods-tabs.vue?vue&type=style&index=0&id=444998cd&lang=less&scoped=true\"\n\nimport exportComponent from \"D:\\\\桌面\\\\git\\\\YouGou\\\\ygshop\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-444998cd\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"goods-hot\">\r\n    <h3>{{title}}</h3>\r\n    <div v-if=\"goodsList\">\r\n      <GoodsItem v-for=\"item in goodsList\" :key=\"item.id\" :goods=\"item\"/>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { computed, ref } from 'vue'\r\nimport GoodsItem from '../../category/components/goods-itme'\r\nimport { findHotGoods } from '@/api/product'\r\nexport default {\r\n  name: 'GoodsHot',\r\n  props: {\r\n    type: {\r\n      type: Number,\r\n      default: 1\r\n    },\r\n    goodsId: {\r\n      type: String\r\n    }\r\n  },\r\n  components: { GoodsItem },\r\n  setup (props) {\r\n    // 处理标题\r\n    const titleObj = { 1: '24小时热销榜', 2: '周热销榜', 3: '总热销榜' }\r\n    const title = computed(() => {\r\n      return titleObj[props.type]\r\n    })\r\n    // 商品列表\r\n    const goodsList = ref([])\r\n    findHotGoods({ id: props.goodsId, type: props.type }).then(data => {\r\n      goodsList.value = data.result.map(item => {\r\n        item.tag = item.desc\r\n        return item\r\n      })\r\n    })\r\n    return { title, goodsList }\r\n  }\r\n}\r\n\r\n</script>\r\n<style  lang=\"less\" scoped>\r\n.goods-hot {\r\n  h3 {\r\n    height: 70px;\r\n    background: @helpColor;\r\n    color: #fff;\r\n    font-size: 18px;\r\n    line-height: 70px;\r\n    padding-left: 25px;\r\n    margin-bottom: 10px;\r\n    font-weight: normal;\r\n  }\r\n  :deep(.goods-item) {\r\n    background: #fff;\r\n    width: 100%;\r\n    margin-bottom: 10px;\r\n    img {\r\n      width: 200px;\r\n      height: 200px;\r\n    }\r\n    p {\r\n      margin: 0 10px;\r\n    }\r\n    &:hover {\r\n      transform: none;\r\n      box-shadow: none;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./goods-hot.vue?vue&type=template&id=9000ddcc&scoped=true\"\nimport script from \"./goods-hot.vue?vue&type=script&lang=js\"\nexport * from \"./goods-hot.vue?vue&type=script&lang=js\"\n\nimport \"./goods-hot.vue?vue&type=style&index=0&id=9000ddcc&lang=less&scoped=true\"\n\nimport exportComponent from \"D:\\\\桌面\\\\git\\\\YouGou\\\\ygshop\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-9000ddcc\"]])\n\nexport default __exports__","<template>\r\n  <!-- 注意事项 -->\r\n  <div class=\"goods-warn\">\r\n    <h3>注意事项</h3>\r\n    <p class=\"tit\">• 购买运费如何收取？</p>\r\n    <p>\r\n      单笔订单金额(不含运费)满88元免邮费；不满88元，每单收取10元运费。（港澳台地区需满500元免邮费；不满500元，每单收取30元运费)\r\n    </p>\r\n    <br />\r\n    <p class=\"tit\">• 使用什么快递发货?</p>\r\n    <p>默认使用顺丰快递发货(个别商品使用其他快递）</p>\r\n    <p>配送范围覆盖全国大部分地区(港澳台地区除外）</p>\r\n    <br />\r\n    <p class=\"tit\">• 如何申请退货?</p>\r\n    <p>\r\n      1.自收到商品之日起30日内，顾客可申请无忧退货，退款将原路返还，不同的银行处理时间不同，预计1-5个工作日到账；\r\n    </p>\r\n    <p>2.内裤和食品等特殊商品无质量问题不支持退货；</p>\r\n    <p>\r\n      3.退货流程：\r\n      确认收货-申请退货-客服审核通过-用户寄回商品-仓库签收验货-退款审核-退款完成；\r\n    </p>\r\n    <p>\r\n      4.因小兔鲜儿产生的退货，如质量问题，退货邮费由小兔鲜儿承担，退款完成后会以现金券的形式报销。因客户个人原因产生的退货，购买和寄回运费由客户个人承担。\r\n    </p>\r\n  </div>\r\n</template>\r\n<style lang=\"less\" scoped>\r\n.goods-warn {\r\n  margin-top: 20px;\r\n  background: #fff;\r\n  padding-bottom: 40px;\r\n  h3 {\r\n    height: 70px;\r\n    line-height: 70px;\r\n    border-bottom: 1px solid #f5f5f5;\r\n    padding-left: 50px;\r\n    font-size: 18px;\r\n    font-weight: normal;\r\n    margin-bottom: 10px;\r\n  }\r\n  p {\r\n    line-height: 40px;\r\n    padding: 0 25px;\r\n    color: #666;\r\n    &.tit {\r\n      color: #333;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./goods-warn.vue?vue&type=template&id=2d293123&scoped=true\"\nconst script = {}\n\nimport \"./goods-warn.vue?vue&type=style&index=0&id=2d293123&lang=less&scoped=true\"\n\nimport exportComponent from \"D:\\\\桌面\\\\git\\\\YouGou\\\\ygshop\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2d293123\"]])\n\nexport default __exports__","import { render } from \"./index.vue?vue&type=template&id=4c1a7895&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=4c1a7895&scoped=true&lang=less\"\n\nimport exportComponent from \"D:\\\\桌面\\\\git\\\\YouGou\\\\ygshop\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4c1a7895\"]])\n\nexport default __exports__","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./goods-detail.vue?vue&type=style&index=0&id=bef77db8&scoped=true&lang=less\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./goods-tabs.vue?vue&type=style&index=0&id=444998cd&lang=less&scoped=true\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./goods-images.vue?vue&type=style&index=0&id=45661e56&scoped=true&lang=less\"","<template>\r\n  <RouterLink :to=\"`/product/${goods.id}`\" class='goods-item'>\r\n    <img :src=\"goods.picture\" alt=\"\">\r\n    <p class=\"name ellipsis\">{{goods.name}}</p>\r\n    <p class=\"desc ellipsis\">{{goods.desc}}</p>\r\n    <p class=\"price\">&yen;{{goods.price}}</p>\r\n  </RouterLink>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'GoodsItem',\r\n  props: {\r\n    goods: {\r\n      type: Object,\r\n      default: () => {}\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang='less'>\r\n.goods-item {\r\n  display: block;\r\n  width: 220px;\r\n  padding: 20px 30px;\r\n  text-align: center;\r\n  .hoverShadow();\r\n  img {\r\n    width: 160px;\r\n    height: 160px;\r\n  }\r\n  p {\r\n    padding-top: 10px;\r\n  }\r\n  .name {\r\n    font-size: 16px;\r\n  }\r\n  .desc {\r\n    color: #999;\r\n    height: 29px;\r\n  }\r\n  .price {\r\n    color: @priceColor;\r\n    font-size: 20px;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./goods-itme.vue?vue&type=template&id=55571ba8&scoped=true\"\nimport script from \"./goods-itme.vue?vue&type=script&lang=js\"\nexport * from \"./goods-itme.vue?vue&type=script&lang=js\"\n\nimport \"./goods-itme.vue?vue&type=style&index=0&id=55571ba8&scoped=true&lang=less\"\n\nimport exportComponent from \"D:\\\\桌面\\\\git\\\\YouGou\\\\ygshop\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-55571ba8\"]])\n\nexport default __exports__","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./index.vue?vue&type=style&index=0&id=4c1a7895&scoped=true&lang=less\"","import request from '@/utils/request'\r\n\r\n/**\r\n * 获取商品详情\r\n * @param {String} id - 商品ID\r\n */\r\nexport const findGoods = (id) => {\r\n  return request('/goods', 'get', { id })\r\n}\r\n\r\n/**\r\n * 获取商品同类推荐-未传入ID为猜喜欢\r\n * @param {String} id - 商品ID\r\n * @param {Number} limit - 获取条数\r\n */\r\nexport const findRelGoods = (id, limit = 16) => {\r\n  return request('/goods/relevant', 'get', { id, limit })\r\n}\r\n\r\n/**\r\n * 获取热榜商品\r\n * @param {Number} type - 1代表24小时热销榜 2代表周热销榜 3代表总热销榜\r\n * @param {Number} limit - 获取个数\r\n */\r\nexport const findHotGoods = ({ id, type, limit = 3 }) => {\r\n  return request('/goods/hot', 'get', { id, type, limit })\r\n}\r\n\r\n/**\r\n * 获取商品的评价统计信息\r\n * @param {String} id - 商品ID\r\n */\r\nexport const findCommentInfoByGoods = (id) => {\r\n  return request(`https://mock.boxuegu.com/mock/1175/goods/${id}/evaluate`, 'get')\r\n}\r\n// https://mock.boxuegu.com/mock/1175/goods/${id}/evaluate\r\n// /goods/${id}/evaluate\r\n\r\n/**\r\n * 查询商品评价列表\r\n * @param {String} id - 商品ID\r\n * @param {Object} params - 商品ID\r\n * @returns\r\n */\r\nexport const findCommentListByGoods = (id, params) => {\r\n  return request(`https://mock.boxuegu.com/mock/1175/goods/${id}/evaluate/page`, 'get', params)\r\n}\r\n\r\n/**\r\n * 获取商品的specs和skus\r\n * @param {String} skuId - 商品SKUID\r\n * @returns Promise\r\n */\r\nexport const getSpecsAndSkus = (skuId) => {\r\n  return request(`/goods/sku/${skuId}`, 'get')\r\n}\r\n","<template>\r\n  <div class=\"goods-sku\">\r\n    <dl v-for=\"item in goods.specs\" :key=\"item.id\">\r\n      <dt>{{item.name}}</dt>\r\n      <dd>\r\n        <template v-for=\"val in item.values\" :key=\"val.name\">\r\n          <img :class=\"{selected:val.selected,disabled:val.disabled}\" @click=\"clickSpecs(item,val)\" v-if=\"val.picture\" :src=\"val.picture\" :title=\"val.name\">\r\n          <span :class=\"{selected:val.selected,disabled:val.disabled}\" @click=\"clickSpecs(item,val)\" v-else>{{val.name}}</span>\r\n        </template>\r\n      </dd>\r\n    </dl>\r\n  </div>\r\n</template>\r\n<script>\r\nimport getPowerSet from '@/vender/power-set'\r\n\r\nconst spliter = '★'\r\n// 根据skus数据得到路径字典对象\r\nconst getPathMap = (skus) => {\r\n  const pathMap = {}\r\n  skus.forEach(sku => {\r\n    // 1. 过滤出有库存有效的sku\r\n    if (sku.inventory) {\r\n      // 2. 得到sku属性值数组\r\n      const specs = sku.specs.map(spec => spec.valueName)\r\n      // 3. 得到sku属性值数组的子集\r\n      const powerSet = getPowerSet(specs)\r\n      // 4. 设置给路径字典对象\r\n      powerSet.forEach(set => {\r\n        const key = set.join(spliter)\r\n        if (pathMap[key]) {\r\n          // 已经有key往数组追加\r\n          pathMap[key].push(sku.id)\r\n        } else {\r\n          // 没有key设置一个数组\r\n          pathMap[key] = [sku.id]\r\n        }\r\n      })\r\n    }\r\n  })\r\n  return pathMap\r\n}\r\n\r\nconst getSelectedArr = (specs) => {\r\n  const selectedArr = []\r\n  specs.forEach(spec => {\r\n    const selectedVal = spec.values.find(val => val.selected)\r\n    selectedArr.push(selectedVal ? selectedVal.name : undefined)\r\n  })\r\n  return selectedArr\r\n}\r\n\r\n// 更新按钮的禁用状态\r\nconst updateDisabledStatus = (specs, pathMap) => {\r\n  specs.forEach((spec, i) => {\r\n    const selectedArr = getSelectedArr(specs)\r\n    spec.values.forEach(val => {\r\n      // 已经选中的按钮不用判断\r\n      if (val.name === selectedArr[i]) return false\r\n      // 未选中的替换对应的值\r\n      selectedArr[i] = val.name\r\n      // 过滤无效值得到key\r\n      const key = selectedArr.filter(v => v).join(spliter)\r\n      // 设置禁用状态\r\n      val.disabled = !pathMap[key]\r\n    })\r\n  })\r\n}\r\n\r\n// 初始化选中状态\r\nconst initSelectedStatus = (goods, skuId) => {\r\n  const sku = goods.skus.find(sku => sku.id === skuId)\r\n  if (sku) {\r\n    goods.specs.forEach((spec, i) => {\r\n      const value = sku.specs[i].valueName\r\n      spec.values.forEach(val => {\r\n        val.selected = val.name === value\r\n      })\r\n    })\r\n  }\r\n}\r\n\r\nexport default {\r\n  name: 'GoodsSku',\r\n  props: {\r\n    goods: {\r\n      type: Object,\r\n      default: () => ({ space: [], skus: [] })\r\n    },\r\n    skuId: {\r\n      type: String,\r\n      default: ''\r\n    }\r\n  },\r\n  setup (props, { emit }) {\r\n    const pathMap = getPathMap(props.goods.skus)\r\n    // 根据传入的skuId默认选中规格按钮\r\n    if (props.skuId) {\r\n      // console.log(props.skuId)\r\n      initSelectedStatus(props.goods, props.skuId)\r\n    }\r\n    // 组件初始化的时候更新禁用状态\r\n    updateDisabledStatus(props.goods.specs, pathMap)\r\n    const clickSpecs = (item, val) => {\r\n      // 如果是禁用状态不作为\r\n      if (val.disabled) return false\r\n      // 1.选中与取消选中逻辑\r\n      if (val.selected) {\r\n        val.selected = false\r\n      } else {\r\n        item.values.forEach(bv => { bv.selected = false })\r\n        val.selected = true\r\n      }\r\n      // 点击的时候更新禁用状态\r\n      updateDisabledStatus(props.goods.specs, pathMap)\r\n      // 将你选择的sku信息通知父组件{skuId,price,oldPrice,inventory,specsText}\r\n      // 1. 选择完整的sku组合按钮，才可以拿到这些信息，提交父组件\r\n      // 2. 不是完整的sku组合按钮，提交空对象父组件\r\n      // 触发change事件将sku数据传递出去\r\n      const selectedArr = getSelectedArr(props.goods.specs).filter(v => v)\r\n      if (selectedArr.length === props.goods.specs.length) {\r\n        const skuIds = pathMap[selectedArr.join(spliter)]\r\n        const sku = props.goods.skus.find(sku => sku.id === skuIds[0])\r\n        // 传递\r\n        emit('change', {\r\n          skuId: sku.id,\r\n          price: sku.price,\r\n          oldPrice: sku.oldPrice,\r\n          inventory: sku.inventory,\r\n          specsText: sku.specs.reduce((p, n) => `${p} ${n.name}:${n.valueName}`, '').replace(' ', '')\r\n        })\r\n      } else {\r\n        emit('change', {})\r\n      }\r\n    }\r\n    return { clickSpecs }\r\n  }\r\n}\r\n</script>\r\n<style scoped lang=\"less\">\r\n.sku-state-mixin () {\r\n  border: 1px solid #e4e4e4;\r\n  margin-right: 10px;\r\n  cursor: pointer;\r\n  &.selected {\r\n    border-color: @xtxColor;\r\n  }\r\n  &.disabled {\r\n    opacity: 0.6;\r\n    border-style: dashed;\r\n    cursor: not-allowed;\r\n  }\r\n}\r\n.goods-sku {\r\n  padding-left: 10px;\r\n  padding-top: 20px;\r\n  dl {\r\n    display: flex;\r\n    padding-bottom: 20px;\r\n    align-items: center;\r\n    dt {\r\n      width: 50px;\r\n      color: #999;\r\n    }\r\n    dd {\r\n      flex: 1;\r\n      color: #666;\r\n      > img {\r\n        width: 50px;\r\n        height: 50px;\r\n        .sku-state-mixin ();\r\n      }\r\n      > span {\r\n        display: inline-block;\r\n        height: 30px;\r\n        line-height: 28px;\r\n        padding: 0 20px;\r\n        .sku-state-mixin ();\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","/**\r\n * Find power-set of a set using BITWISE approach.\r\n *\r\n * @param {*[]} originalSet\r\n * @return {*[][]}\r\n */\r\n export default function bwPowerSet(originalSet) {\r\n  const subSets = [];\r\n\r\n  // We will have 2^n possible combinations (where n is a length of original set).\r\n  // It is because for every element of original set we will decide whether to include\r\n  // it or not (2 options for each set element).\r\n  const numberOfCombinations = 2 ** originalSet.length;\r\n\r\n  // Each number in binary representation in a range from 0 to 2^n does exactly what we need:\r\n  // it shows by its bits (0 or 1) whether to include related element from the set or not.\r\n  // For example, for the set {1, 2, 3} the binary number of 0b010 would mean that we need to\r\n  // include only \"2\" to the current set.\r\n  for (let combinationIndex = 0; combinationIndex < numberOfCombinations; combinationIndex += 1) {\r\n    const subSet = [];\r\n\r\n    for (let setElementIndex = 0; setElementIndex < originalSet.length; setElementIndex += 1) {\r\n      // Decide whether we need to include current element into the subset or not.\r\n      if (combinationIndex & (1 << setElementIndex)) {\r\n        subSet.push(originalSet[setElementIndex]);\r\n      }\r\n    }\r\n\r\n    // Add current subset to the list of all subsets.\r\n    subSets.push(subSet);\r\n  }\r\n\r\n  return subSets;\r\n}\r\n","import { render } from \"./goods-sku.vue?vue&type=template&id=f8f8fb88&scoped=true\"\nimport script from \"./goods-sku.vue?vue&type=script&lang=js\"\nexport * from \"./goods-sku.vue?vue&type=script&lang=js\"\n\nimport \"./goods-sku.vue?vue&type=style&index=0&id=f8f8fb88&scoped=true&lang=less\"\n\nimport exportComponent from \"D:\\\\桌面\\\\git\\\\YouGou\\\\ygshop\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-f8f8fb88\"]])\n\nexport default __exports__"],"sourceRoot":""}